<?

//--------------------------------------------------------------------------------------------------
//*	moblog, all posts of from all blogs ordered by date
//--------------------------------------------------------------------------------------------------

	//----------------------------------------------------------------------------------------------
	//	page variables
	//----------------------------------------------------------------------------------------------
	$pageNo = 1; // if not specified

	//----------------------------------------------------------------------------------------------
	//	check arguments and permissions
	//----------------------------------------------------------------------------------------------
	
	if (false == $user->authHas('moblog', 'Moblog_Post', 'show', ''))
		{ $page->do403('You are not authorized to view blog posts.'); }

	if (true == array_key_exists('page', $req->args)) { $pageNo = floor($req->args['page']); }

	//----------------------------------------------------------------------------------------------
	//	render the page
	//----------------------------------------------------------------------------------------------
	$page->load('modules/moblog/actions/moblog.page.php');
	$page->blockArgs['pageno'] = $pageNo;
	$page->render();

?>
