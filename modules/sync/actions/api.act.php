<?

//--------------------------------------------------------------------------------------------------
//*	sync API
//--------------------------------------------------------------------------------------------------

//--------------------------------------------------------------------------------------------------
//	documentation
//--------------------------------------------------------------------------------------------------

$documentation = "#
#---------------------------------------------------------------------------------------------------
#	KAPENTA SYNC SERVER API
#---------------------------------------------------------------------------------------------------
#
#	This document describes API calls available on this module, and not the entire website.
#	It is one enromous TODO.
#
#	/sync/api/publickey/ ---------------------------------------------------------------------------
#
#		Returns the server's RSA public key.
#
#	
";

//--------------------------------------------------------------------------------------------------
//	everything else
//--------------------------------------------------------------------------------------------------

switch($req->ref) {
	
	case 'publickey':
		//------------------------------------------------------------------------------------------
		//	get the server's public RSA key
		//------------------------------------------------------------------------------------------
		header('Content-type: text/plain');
		echo $kapenta->rsaPublicKey;
		break;

	default:
		//------------------------------------------------------------------------------------------
		//	print the documenation
		//------------------------------------------------------------------------------------------
		header('Content-type: text/plain');
		echo $documentation;
		break;
}



	

?>
